Написать программу, решающую задачу из 1 лабораторной работы (в соответствии со своим вариантом) со следующими изменениями: 1.Входной файл является обыкновенным (т.е. нет требования на «бесконечность» файла); 2.Распознавание и обработку делать через регулярные выражения; 3.В вариантах, где есть параметр (например К), допускается его заменить на любое число(константу); 4.Все остальные требования соответствуют варианту задания лабораторной работы №1.

Нечетные восьмеричные числа, не превышающие 4096, у которых вторая справа цифра равна 7. Выводит на экран цифры числа, исключая семерки. Вычисляется среднее число между минимальным и максимальным и выводится прописью.

import re
digit_words = {'0': 'ноль', '1': 'один', '2': 'два', '3': 'три', '4': 'четыре', '5': 'пять', '6': 'шесть', '7': 'семь', '8': 'восемь', '9': 'девять'}
def number_to_words(num):
    return ' '.join(digit_words[d] for d in str(num))
with open('C://Users//user//Desktop//11.txt', 'r') as f:
    text = f.read()
    nums = re.findall(r'\b[0-7]+\b', text)
    result_numbers = []
    for num in nums:
        n = int(num)
        if n % 2 == 1 and n <= 4096 and len(num) >= 2 and num[-2] == '7':
            result_numbers.append(n)
            print(''.join([d for d in num if d != '7']))
min_n = min(result_numbers)
max_n = max(result_numbers)
avg = (min_n + max_n) // 2
print(str(number_to_words(avg)).replace('семь',''))
print(result_numbers)
