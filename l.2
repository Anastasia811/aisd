#Написать программу, которая читая символы из файла, распознает через регулярные выражения, преобразует и выводит на экран лексемы по определенному правилу. Лексемы разделены пробелами. Преобразование делать по возможности через словарь. Для упрощения под выводом числа прописью подразумевается последовательный вывод всех цифр числа.
#Нечетные восьмеричные числа, не превышающие 4096 в 10 с.с., у которых вторая справа цифра равна 7. Выводит на экран цифры числа, исключая семерки. Вычисляется среднее число между минимальным и максимальным и выводится прописью.
import re
digit_word = {'0': 'ноль', '1': 'один', '2': 'два', '3': 'три', '4': 'четыре', '5': 'пять', '6': 'шесть', '7': 'семь', '8':'восемь', '9':'девять'}
def to_words (n:int) -> str:
    return ' '.join(digit_word[d] for d in str(n))
nums = []
nums_without = []
with open ('2.txt', encoding='utf-8') as f:
    for t in re.findall(r'\b[0-7]*7[1357]\b',f.read()):
        n = int(t, 8)
        if n <= 4096:
            nums_without.append(re.sub(r'7', '', t))
            nums.append(n)
if nums:
    avg = ((min(nums) + max(nums))//2)
print('Числа без семёрок:', nums_without)
print('Среднее число', to_words(avg))
